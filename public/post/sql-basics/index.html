<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="generator" content="Hugo 0.18.1" />
	
	<title>sql basics - helpful programming nuggets.</title>

	
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<link href="http://databae.io/css/bootstrap.min.css" rel="stylesheet">
	<link href="http://databae.io/css/strange-case.css" rel="stylesheet">
	

	
	
	<!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
</head>
<body class="scheme-slate">


	<div class="container-fluid">
		<div class="row">
			<div class="col-sm-4 col-md-3 col-lg-3 sidebar">

			
	<div class="sidebar-content">

		<a href="http://databae.io"><h1>databae.io</h1></a>
		<p>helpful programming nuggets.</p>

		

		<ul class="sidebar-menus">
			
		</ul>

		<div class="sidebar-recent hidden-xs">
			<p>posts</p>
			<ul>
                
				<li><a href="http://databae.io/post/dumb-birthdays/">dumb birthdays</a></li>
				
				<li><a href="http://databae.io/post/gspread/">gspread</a></li>
				
				<li><a href="http://databae.io/post/information-schema/">information schema</a></li>
				
				<li><a href="http://databae.io/post/n-choose-k/">n choose k</a></li>
				
				<li><a href="http://databae.io/post/postgres-admin-queries/">postgres admin queries</a></li>
				
				<li><a href="http://databae.io/post/postgres-json-queries/">postgres json queries</a></li>
				
				<li><a href="http://databae.io/post/psql/">psql</a></li>
				
				<li><a href="http://databae.io/post/sed/">sed</a></li>
				
				<li><a href="http://databae.io/post/sql-basics/">sql basics</a></li>
				
				<li><a href="http://databae.io/post/sql-to-csv/">sql to csv</a></li>
				
				<li><a href="http://databae.io/post/sqlalchemy-stored-procs/">sqlalchemy and stored procs</a></li>
				
				<li><a href="http://databae.io/post/ssh-keygen/">ssh keygen</a></li>
				
				<li><a href="http://databae.io/post/todo-cli/">todo cli</a></li>
				
				<li><a href="http://databae.io/post/web-cli/">web cli</a></li>
				
			</ul>
		</div>

        <div style="text-align:right">
            <span><a target="_blank" href="https://github.com/ryantuck/databae.io"><i class="fa fa-github fa-2x"></i></a></span>
        </div>
	</div>


			</div>
			<div class="col-sm-7 col-sm-offset-4 col-md-6 col-md-offset-3 col-lg-5 col-lg-offset-3 content">

				<div class="post">

					<div class="post-heading">
						<h1>sql basics</h1>
						<span class="post-date"><a href="http://databae.io/post/sql-basics/"># 12 Feb 2017</a></span>
					</div>

					

<h2 id="select">select</h2>

<p><code>select</code> fields <code>from</code> a table.</p>

<p>select all fields:</p>

<pre><code class="language-sql">select
    *
from
    customers
</code></pre>

<p>select specific fields:</p>

<pre><code class="language-sql">select
    name,
    species
from
    pets
</code></pre>

<h2 id="where">where</h2>

<p>the <code>where</code> clause is used for filtering data.</p>

<p>get all gerbils:</p>

<pre><code class="language-sql">select
    *
from
    pets
where
    species = 'gerbil'
</code></pre>

<p>get all gerbils that are older than 5:</p>

<pre><code class="language-sql">select
    *
from
    pets
where
    species = 'gerbil'
    and
    age &gt; 5
</code></pre>

<p>get all pets that are either a gerbil or a dog:</p>

<pre><code class="language-sql">select
    *
from
    pets
where
    species = 'gerbil'
    or
    species = 'dog'
</code></pre>

<h2 id="sum-count-and-group-by">sum(), count(), and group by</h2>

<p>aggregate data using an aggregate function like <code>sum()</code> or <code>count()</code> in combination with the <code>group by</code> clause.</p>

<p>count number of each species:</p>

<pre><code class="language-sql">select
    species,
    count(*)
from
    pets
group by
    species
</code></pre>

<p>get total quantity sold of each <code>item_id</code> from all transactions:</p>

<pre><code class="language-sql">select
    item_id,
    sum(quantity)
from
    transaction_items
group by
    item_id
</code></pre>

<h2 id="order-by">order by</h2>

<p>sort your results.</p>

<p>sort customer names:</p>

<pre><code class="language-sql">select
    first,
    last
from
    customers
order by
    last
</code></pre>

<p>sort items by price:</p>

<pre><code class="language-sql">select
    name,
    price
from
    items
order by
    price desc
</code></pre>

<h2 id="limit">limit</h2>

<p><code>limit</code> the amount of results you return.</p>

<pre><code class="language-sql">select
    *
from
    customers
limit
    5
</code></pre>

<h2 id="as">as</h2>

<p>alias your field names <code>as</code> a more descriptive name.</p>

<pre><code class="language-sql">select
    first as first_name,
    last as last_name
from
    customers
</code></pre>

<h2 id="joins">joins</h2>

<p>the meat of SQL. <code>join</code> data from one table to another <code>on</code> a certain condition. specifically, we&rsquo;ll use <code>inner join</code>s for now. you can <code>join</code> multiple tables together by repeating the clause.</p>

<p>note the need to preface field names with the table they belong to.</p>

<pre><code class="language-sql">select
    customers.first,
    customers.last,
    pets.species,
    pets.name
from
    customers
inner join
    pets
    on
    customers.id = pets.owner_id
</code></pre>

<h2 id="putting-it-all-together">putting it all together!</h2>

<p>here&rsquo;s a mega query that uses all of the above concepts.</p>

<p><strong>give a summary of the first 8 transactions Queen Bey made at the pet store since 2010</strong></p>

<pre><code class="language-sql">select
	transactions.date as transaction_date,
	sum(items.price) as total_cost,
	count(*) as number_of_items
from 
	transactions
inner join
	customers
	on
	customers.id = transactions.customer_id
inner join
	transaction_items
	on
	transactions.id = transaction_items.transaction_id
inner join
	items
	on
	items.id = transaction_items.item_id
where
	transactions.date &gt;= '2010-01-01'
	and
	customers.first = 'beyonce'
group by
	transactions.date
order by
	transactions.date
limit
	8
</code></pre>

<h2 id="additional-resources">additional resources</h2>

<p><a href="http://www.w3schools.com/sql/sql_select.asp">w3schools</a></p>


				</div>

			</div>
			<div class="col-sm-1 col-md-3 col-md-4">
			</div>
		</div>
	</div>







<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

<script src="http://databae.io/js/bootstrap.min.js"></script>

</body>
</html>